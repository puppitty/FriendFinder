<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Friend Finder</title>



  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.10/css/all.css">
  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>


</head>

<body>
    <div class="card mb-3">
        <img class="card-img-top" src="assets/images/friends.png" alt="Friend Finder">
        <div class="card-body">
          <div class="container">
            <div class="jumbotron">
          <h1 class="card-title">Survey Questions</h1>
          <hr>
          <a href="./home.html" class="btn btn-primary btn-lg">
            <i class="fas fa-home"></i> Home
          </a>
        </div>
        </div>
      </div>
    </div>
  <div class="container">
    <!-- <div class="jumbotron">
      <h1>Friend Finder</h1>
      <h3>Answer a few questions and we'll match you with a new friend!</h3>
      <hr>
      <a href="./survey.html" class="btn btn-primary btn-lg">
        <i class="fas fa-list"></i> Go to Survey
      </a> -->

    <div class="row">

      <div class="col-lg-12">

        <div class="panel panel-default">
          <!-- <div class="panel-heading">
            <h3 class="panel-title">
              <strong>Survey Questions</strong>
            </h3>
            <hr>
          </div> -->

          <h3>About You</h3>

          <div class="input-field col s6">
            <h5>Name (Required)</h5>
            <!-- <i class="material-icons prefix">account_circle</i> -->
            <input type="text" class="validate" placeholder="Your Name Here" id="userName">
          </div>

          <div class="input-field col s6">
            <h5>Link to Photo Image (Required)</h5>
            <!-- <i class="material-icons prefix">picture_in_picture</i> -->
            <input type="text" class="validate" placeholder="Photo Link Here" id="userPhoto">
          </div>

          <!-- Survey Questions -->
          <div class="input-field col s12">
            <h3>Question 1</h3>
            <h5>Question 1 here.</h5>
            <select id="question1">
              <option value="" disabled selected>Choose your option</option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
            </select>
          </div>

          <div class="input-field col s12">
            <h3>Question 2</h3>
            <h5>Question 2 here.</h5>
            <select id="question2">
              <option value="" disabled selected>Choose your option</option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
            </select>
          </div>

          <div class="input-field col s12">
            <h3>Question 3</h3>
            <h5>Question 3 here.</h5>
            <select id="question3">
              <option value="" disabled selected>Choose your option</option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
            </select>
          </div>

          <div class="input-field col s12">
            <h3>Question 4</h3>
            <h5>Question 4 here.</h5>
            <select id="question4">
              <option value="" disabled selected>Choose your option</option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
            </select>
          </div>

          <div class="input-field col s12">
            <h3>Question 5</h3>
            <h5>Question 5 here.</h5>
            <select id="question5">
              <option value="" disabled selected>Choose your option</option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
            </select>
          </div>

          <div class="input-field col s12">
            <h3>Question 6</h3>
            <h5>Question 6 here.</h5>
            <select id="question6">
              <option value="" disabled selected>Choose your option</option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
            </select>
          </div>

          <div class="input-field col s12">
            <h3>Question 7</h3>
            <h5>Question 7 here.</h5>
            <select id="question7">
              <option value="" disabled selected>Choose your option</option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
            </select>
          </div>

          <div class="input-field col s12">
            <h3>Question 8</h3>
            <h5>Question 8 here.</h5>
            <select id="question8">
              <option value="" disabled selected>Choose your option</option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
            </select>
          </div>

          <div class="input-field col s12">
            <h3>Question 9</h3>
            <h5>Question 9 here.</h5>
            <select id="question9">
              <option value="" disabled selected>Choose your option</option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
            </select>
          </div>

          <div class="input-field col s12">
            <h3>Question 10</h3>
            <h5>Question 10 here.</h5>
            <select id="question10">
              <option value="" disabled selected>Choose your option</option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
            </select>
          </div>

          <!-- Survey Submit Button -->
          <div>
            <button class="btn waves-effect waves-light" type="submit" name="action" id="submitButton">Submit Responses
              <i class="material-icons right">send</i>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
<hr>
  <footer class="page-footer pink accent-2">
		<div class="container">
			<div class="row">
				<div class="col l6 s12">
					<h5 class="white-text">Friend Finder App</h5>
					<p class="grey-text text-lighten-4">Thank you for taking the brief survey. </p>
				</div>
				<div class="col l4 offset-l2 s12">
					<h5 class="white-text">Links</h5>
					<ul>
            <!-- Add link to full list of possible firnds -->
						<li><a class="grey-text text-lighten-3" href="/api/friends">API Friends List</a></li>
						<!-- Add link to my Github repo
              <li><a class="grey-text text-lighten-3" href="https://github.com/puppitty/friendFinder">GitHub Repo</a></li> -->
					</ul>
				</div>
			</div>
		</div>
		<div class="footer-copyright">
			<div class="container">
				Â© 2018
				<a class="grey-text text-lighten-4 right" href="*">Reference Work</a>
			</div>
		</div>
	</footer>
<!-- Modal Dialog Displaying Closest Friend Match -->
<div id="modal1" class="modal">
  <div class="modal-content">
    <h4>Closest Friend Match</h4>
    <div class="divider"></div>
    <h5 id="userMatch"></h5>
    <img id="userMatchImage" class="materialboxed" width="650" src="">
  </div>
  <div class="modal-footer">
    <a href="./survey" class="modal-action modal-close waves-effect waves-green btn-flat">Fill Again!</a>
  </div>
</div>

<script type="text/javascript">
  $(document).ready(function() {
    $('select').material_select();
    $('.modal').modal({
      dismissible: false, // Modal can be dismissed by clicking outside of the modal
      opacity: .5, // Opacity of modal background
      inDuration: 300, // Transition in duration
      outDuration: 200, // Transition out duration
      startingTop: '4%', // Starting top style attribute
      endingTop: '10%' // Ending top style attribute
    });
  });
  // Activate submit button
  $('#submitButton').on('click', function(event) {
    event.preventDefault();
    // Gather user inputs
    var userInput = {
      name: $('#userName').val().trim(),
      photo: $('#userPhoto').val().trim(),
      scores:[
        $('#question1').val().trim(),
        $('#question2').val().trim(),
        $('#question3').val().trim(),
        $('#question4').val().trim(),
        $('#question5').val().trim(),
        $('#question6').val().trim(),
        $('#question7').val().trim(),
        $('#question8').val().trim(),
        $('#question9').val().trim(),
        $('#question10').val().trim()
      ]
    };
    // console.log('userInput = ' + JSON.stringify(userInput));
    // Add user inputs to friends list
    $.post('/api/friends', userInput)
        .done(function(data) {
          // console.log('response = ' + JSON.stringify(data));
          // Set the name and image values of friend match
          $('#userMatch').html(data.matchName);
        $("#userMatchImage").attr("src", data.matchImage);
        // Pop open the modal dialog
          $('#modal1').modal('open');
        });
  });
</script>
</body>

</html>